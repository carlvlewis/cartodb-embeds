// @preserve cartodb-embed.js version: 0.1.0
// @preserve CartoDB.js version: 3.15.2 
// @preserve github.com/mhkeller/cartodb-embeds
(function(){var t={init:function(){var e='<link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css" />';document.write(e+"<style>.CDBE-embed{margin-bottom:10px;}.CDBE-map-container,.CDBE-inner-wrapper{width:100%;height:100%;}</style>");var r=0,n=document.querySelectorAll(".CDBE-embed");Array.prototype.forEach.call(n,function(e){var n=e.getAttribute("data-embed-link"),a=+e.getAttribute("data-zoom"),i=e.getAttribute("data-latlng"),o=i;i&&(o=i.split(",").map(function(t){return+t}));var c="mapid_"+r;t[c]={},t[c].outerEl=e,t.bakeLayout(c),t.initCartoDb(c,o,a,n),r++})},bakeLayout:function(t){var e=document.createElement("div");e.setAttribute("class","CDBE-inner-wrapper"),this[t].outerEl.appendChild(e);var r=document.createElement("div");return r.setAttribute("class","CDBE-map-container"),r.setAttribute("id","CDBE-map-container-"+t),e.appendChild(r),this[t].innerEl=e,this[t].mapContainer=r,this},initCartoDb:function(t,e,r,n){var a=this;return console.log(t,n),cartodb.createVis("CDBE-map-container-"+t,n).on("done",function(n,i){a.setCartoDbListeners.call(a,t,n,i,e,r)}).on("error",function(){cartodb.log.log("An error occurred loading CartoDB vis",t)}),this},setCartoDbListeners:function(t,e,r,n,a){var i=r[1];i.setInteraction(!0);var o=e.getNativeMap(),c=o.getCenter(),s=o.getZoom();n=n||c,a=a||s,o.setView(n,a),i.on("error",function(t){cartodb.log.log("error: "+t)}),this[t].native_map=o}};t.init()}).call(this);