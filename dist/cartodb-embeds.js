// @preserve cartodb-embed.js version: 0.1.0
// @preserve CartoDB.js version: 3.15.2 
// @preserve github.com/mhkeller/cartodb-embeds
(function(){var t={init:function(){var t=this,e='<link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css" />';document.write(e+"<style>.CDBE-embed{margin-bottom:10px;}.CDBE-map-container,.CDBE-inner-wrapper{width:100%;height:100%;}</style>");var r=0,n=document.querySelectorAll(".CDBE-embed");Array.prototype.forEach.call(n,function(e){var n={embedLink:e.getAttribute("data-embed-link"),zoom:+e.getAttribute("data-zoom"),latlng:t.parseLatLngAttr(e.getAttribute("data-latlng")),mobileZoom:+e.getAttribute("data-mobile-zoom"),mobileLatlng:t.parseLatLngAttr(e.getAttribute("data-mobile-latlng")),mobileBreakpoint:parseFloat(e.getAttribute("data-mobile-breakpoint"))},a="mapid_"+r;t[a]={},t[a].outerEl=e,t.bakeLayout(a),t.initCartoDb(a,n),r++})},parseLatLngAttr:function(t){return t=t||"",t&&(t=t.split(",").map(function(t){return+t})),t},bakeLayout:function(t){var e=document.createElement("div");e.setAttribute("class","CDBE-inner-wrapper"),this[t].outerEl.appendChild(e);var r=document.createElement("div");return r.setAttribute("class","CDBE-map-container"),r.setAttribute("id","CDBE-map-container-"+t),e.appendChild(r),this[t].innerEl=e,this[t].mapContainer=r,this},initCartoDb:function(t,e){var r=this;return cartodb.createVis("CDBE-map-container-"+t,e.embedLink).on("done",function(n,a){r.setCartoDbListeners.call(r,t,n,a,e)}).on("error",function(){cartodb.log.log("An error occurred loading CartoDB vis",t)}),this},setCartoDbListeners:function(t,e,r,n){var a=r[1];a.setInteraction(!0);var i=e.getNativeMap(),o=i.getCenter(),l=i.getZoom(),c=n.zoom||l,s=n.latlng||o,m=(n.mobileBreakpoint||720,window.innerWidth);m<n.mobileBreakpoint&&(c=n.mobileZoom||c,s=n.mobileLatlng||s),i.setView(s,c),a.on("error",function(t){cartodb.log.log("error: "+t)}),this[t].native_map=i}};t.init()}).call(this);